(this["webpackJsonpstarter-restaurant-reservation-front-end"]=this["webpackJsonpstarter-restaurant-reservation-front-end"]||[]).push([[0],{25:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),c=a.n(s),i=a(4),o=a(6),l=(a(25),a(0));var b=function(){return Object(l.jsx)("nav",{className:"navbar navbar-dark align-items-start p-0",children:Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column p-0",children:[Object(l.jsx)(o.b,{className:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",to:"/",children:Object(l.jsx)("div",{className:"sidebar-brand-text mx-3",children:Object(l.jsx)("span",{children:"Periodic Tables"})})}),Object(l.jsx)("hr",{className:"sidebar-divider my-0"}),Object(l.jsxs)("ul",{className:"nav navbar-nav text-light",id:"accordionSidebar",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)(o.b,{className:"nav-link",to:"/dashboard",children:[Object(l.jsx)("span",{className:"oi oi-dashboard"}),"\xa0Dashboard"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)(o.b,{className:"nav-link",to:"/search",children:[Object(l.jsx)("span",{className:"oi oi-magnifying-glass"}),"\xa0Search"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)(o.b,{className:"nav-link",to:"/reservations/new",children:[Object(l.jsx)("span",{className:"oi oi-plus"}),"\xa0New Reservation"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)(o.b,{className:"nav-link",to:"/tables/new",children:[Object(l.jsx)("span",{className:"oi oi-layers"}),"\xa0New Table"]})})]}),Object(l.jsx)("div",{className:"text-center d-none d-md-inline",children:Object(l.jsx)("button",{className:"btn rounded-circle border-0",id:"sidebarToggle",type:"button"})})]})})},u=a(2),d=a(3),j=a.n(d),m=a(7),h=/\d\d\d\d-\d\d-\d\d/;function p(e){return"".concat(e.getFullYear().toString(10),"-").concat((e.getMonth()+1).toString(10).padStart(2,"0"),"-").concat(e.getDate().toString(10).padStart(2,"0"))}function O(){return p(new Date)}function v(e){return e.reservation_date=e.reservation_date.match(h)[0],e}function x(e){return Array.isArray(e)?e.map(v):v(e)}var f="https://final-proj-restaurant-res-app-backend.onrender.com",N=new Headers;function g(e,t,a){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(j.a.mark((function e(t,a,n){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:if(204!==(r=e.sent).status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,r.json();case 8:if(!(s=e.sent).error){e.next=11;break}return e.abrupt("return",Promise.reject({message:s.error}));case 11:return e.abrupt("return",s.data);case 14:if(e.prev=14,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=19;break}throw console.error(e.t0.stack),e.t0;case 19:return e.abrupt("return",Promise.resolve(n));case 20:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function _(e,t){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(f,"/reservations")),Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),a=t[0],r=t[1];return n.searchParams.append(a,r.toString())})),e.next=4,g(n,{headers:N,signal:a},[]).then(x).then(x);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(m.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/reservations"),t.people=Number(t.people),r={method:"POST",headers:N,body:JSON.stringify({data:t}),signal:a},e.next=5,g(n,r,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/reservations/").concat(t),e.next=3,g(n,{signal:a},[]).then(x).then(x);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(m.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/tables/").concat(t,"/seat"),r={method:"DELETE",signal:a},e.next=4,g(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(m.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/reservations/").concat(t.reservation_id),t.people=Number(t.people),t.reservation_time=t.reservation_time.slice(0,5),r={method:"PUT",headers:N,body:JSON.stringify({data:t})},e.next=6,g(n,r,t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(j.a.mark((function e(t,a,n){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/reservations/").concat(t,"/status"),s={method:"PUT",headers:N,body:JSON.stringify({data:{status:a}})},e.next=4,g(r,s,{status:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(f,"/tables"),e.next=3,g(a,{headers:N,signal:t},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(m.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/tables"),t.capacity=Number(t.capacity),r={method:"POST",headers:N,body:JSON.stringify({data:t}),signal:a},e.next=5,g(n,r,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(m.a)(j.a.mark((function e(t,a,n,r){var s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(f,"/tables/").concat(a,"/seat"),c={method:"PUT",headers:N,body:JSON.stringify({data:{reservation_id:t}})},e.next=4,g(s,c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N.append("Content-Type","application/json");var P=function(e){var t=e.reservation_id,a=e.setReservationsError,n=e.loadReservationsAndTables;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(e){e.preventDefault();window.confirm("Do you want to cancel this reservation? This cannot be undone.")&&function(e,t,a){return D.apply(this,arguments)}(t,"cancelled").then((function(){return n()})).catch(a)},"data-reservation-id-cancel":t,children:"Cancel"})})};a(36);var q=function(e){var t=e.reservation_id,a=e.first_name,n=e.last_name,r=e.mobile_number,s=e.reservation_date,c=e.reservation_time,i=e.people,o=e.status,b=e.setReservationsError,u=e.loadReservationsAndTables;return Object(l.jsxs)("div",{className:"card border-secondary mb-3",style:{maxWidth:"25rem"},children:[Object(l.jsxs)("h4",{className:"card-header d-flex justify-content-between align-items-center",children:[n,", ",a,"booked"===o&&Object(l.jsx)("a",{type:"button",className:"btn btn-outline-secondary",href:"/reservations/".concat(t,"/edit"),children:"Edit"})]}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("h5",{className:"card-title",children:[c,", ",s]}),Object(l.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Guests: ",i]}),Object(l.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Mobile Number: ",r]})]}),Object(l.jsxs)("div",{className:"card-footer border-secondary text-secondary",id:"resCardFooter",style:{textAlign:"right"},children:["booked"===o&&Object(l.jsx)("a",{className:"btn btn-secondary",id:"seatButton",href:"/reservations/".concat(t,"/seat"),role:"button",children:"Seat"}),Object(l.jsx)("h5",{children:Object(l.jsx)("span",{className:"badge bg-info text-light",id:"statusBadge","data-reservation-id-status":t,children:o})}),"booked"===o&&Object(l.jsx)(P,{reservation_id:t,setReservationsError:b,loadReservationsAndTables:u})]})]})};var J=function(e){var t=e.reservations,a=e.setReservationsError,n=e.loadReservationsAndTables;return Object(l.jsx)("div",{id:"reservationGrid",className:"row row-cols-3",children:t.map((function(e){return Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsx)(q,{reservation_id:e.reservation_id,first_name:e.first_name,last_name:e.last_name,mobile_number:e.mobile_number,reservation_date:e.reservation_date,reservation_time:e.reservation_time.slice(0,5),people:e.people,status:e.status,setReservationsError:a,loadReservationsAndTables:n})},e.reservation_id)}))})};a(37);var B=function(e){var t=e.table_id,a=e.table_name,n=e.capacity,r=e.reservation_id,s=e.setTablesError,c=e.loadReservationsAndTables;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("span",{className:"badge capacity-badge",children:n}),Object(l.jsx)("h6",{className:"card-title",children:a}),Object(l.jsxs)("p",{className:"card-subtitle mb-2 text-muted",children:["Reservation ",r]}),Object(l.jsxs)("div",{className:"alert ".concat(r?"alert-warning":"alert-success"),id:"statusWithFinishButton",role:"alert","data-table-id-status":t,children:[r?"Occupied":"Free",r&&Object(l.jsx)("button",{type:"button",className:"btn",id:"finishButton",onClick:function(e){e.preventDefault();window.confirm("Is this table ready to seat new guests? This cannot be undone.")&&function(e,t){return E.apply(this,arguments)}(t).then((function(){c()})).catch(s)},"data-table-id-finish":t,children:"Finish"})]})]})})})};var L=function(e){var t=e.tables,a=e.setTablesError,n=e.loadReservationsAndTables;return Object(l.jsx)("div",{id:"tableGrid",className:"tables-grid",children:t.map((function(e){return Object(l.jsx)("div",{className:"tables-card",children:Object(l.jsx)(B,{table_id:e.table_id,table_name:e.table_name,capacity:e.capacity,reservation_id:e.reservation_id,setTablesError:a,loadReservationsAndTables:n})},e.table_id)}))})};var U=function(e){var t=e.currentDate,a=Object(i.g)();return Object(l.jsx)("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button",children:Object(l.jsxs)("div",{className:"btn-group",role:"group",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(e){e.preventDefault(),a.push("/dashboard?date=".concat(function(e){var t=e.split("-"),a=Object(u.a)(t,3),n=a[0],r=a[1],s=a[2],c=new Date(n,r-=1,s);return c.setMonth(c.getMonth()),c.setDate(c.getDate()-1),p(c)}(t)))},children:"Previous"}),Object(l.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(e){e.preventDefault(),a.push("/dashboard?date=".concat(O()))},children:"Today"}),Object(l.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(e){e.preventDefault(),a.push("/dashboard?date=".concat(function(e){var t=e.split("-"),a=Object(u.a)(t,3),n=a[0],r=a[1],s=a[2],c=new Date(n,r-=1,s);return c.setMonth(c.getMonth()),c.setDate(c.getDate()+1),p(c)}(t)))},children:"Next"})]})})};var Y=function(e){var t=e.error,a=e.setError;return t&&Object(l.jsxs)("div",{className:"alert alert-danger m-2 alert-dismissible fade show",role:"alert",children:[Object(l.jsx)("strong",{children:"Error"}),": ",t.message,Object(l.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return a(!1)},children:Object(l.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})};a(38);var G=function(e){var t=e.date,a=Object(n.useState)([]),r=Object(u.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(null),o=Object(u.a)(i,2),b=o[0],d=o[1],j=Object(n.useState)([]),m=Object(u.a)(j,2),h=m[0],p=m[1],O=Object(n.useState)(null),v=Object(u.a)(O,2),x=v[0],f=v[1];function N(){var e=new AbortController;return function(){var e=new AbortController;d(null),_({date:t},e.signal).then(c).catch(d)}(),function(){var e=new AbortController;f(null),R(e.signal).then(p).catch(f)}(),function(){return e.abort()}}return Object(n.useEffect)((function(){N()}),[t]),Object(l.jsxs)("main",{className:"dashboard",children:[Object(l.jsx)("h1",{children:"Dashboard"}),Object(l.jsx)("div",{className:"d-md-flex flex-column",children:!s.length&&Object(l.jsx)("h2",{children:"No reservations on this date."})}),Object(l.jsx)(Y,{error:b,setError:d}),Object(l.jsxs)("div",{className:"reservations-list",children:[Object(l.jsxs)("h4",{className:"mb-2",children:["Reservations for ",t]}),Object(l.jsx)(J,{reservations:s,setReservationsError:d,loadReservationsAndTables:N})]}),Object(l.jsx)("div",{className:"date-nav",children:Object(l.jsx)(U,{currentDate:t})}),Object(l.jsxs)("div",{className:"tables-list",children:[Object(l.jsx)("div",{className:"d-md-flex mb-3",children:Object(l.jsx)("h4",{className:"mb-0",children:"Tables"})}),!h&&Object(l.jsx)("h5",{className:"load-message",children:"Loading..."}),Object(l.jsx)(Y,{error:x,setError:f}),Object(l.jsx)(L,{tables:h,setTablesError:f,loadReservationsAndTables:N})]})]})};var H=function(){return Object(l.jsx)("div",{className:"NotFound",children:Object(l.jsx)("h1",{children:"Not Found"})})},I=a(12),W=a(9);var $=function(e){var t=e.reservation,a=e.handleSubmit,n=e.handleChange,r=Object(i.g)();return Object(l.jsxs)("form",{onSubmit:a,children:[Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("label",{htmlFor:"first_name",className:"form-label",children:"First Name"}),Object(l.jsx)("input",{type:"text",name:"first_name",id:"first_name",className:"form-control",onChange:n,value:"".concat(t.first_name),required:!0})]}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("label",{htmlFor:"last_name",className:"form-label",children:"Last Name"}),Object(l.jsx)("input",{type:"text",name:"last_name",id:"last_name",className:"form-control",onChange:n,value:"".concat(t.last_name),required:!0})]})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"mobile_number",className:"form-label",children:"Mobile Number"}),Object(l.jsx)("input",{type:"tel",name:"mobile_number",id:"mobile_number",className:"form-control",onChange:n,value:"".concat(t.mobile_number),pattern:"^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$",required:!0})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),Object(l.jsx)("input",{type:"date",name:"reservation_date",id:"reservation_date",className:"form-control",onChange:n,value:"".concat(t.reservation_date),placeholder:"YYYY-MM-DD",pattern:"\\d{4}-\\d{2}-\\d{2}",required:!0})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),Object(l.jsx)("input",{type:"time",name:"reservation_time",id:"reservation_time",className:"form-control",onChange:n,value:"".concat(t.reservation_time),placeholder:"HH:MM",pattern:"[0-9]{2}:[0-9]{2}",required:!0})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"people",className:"form-label",children:"Number of Guests"}),Object(l.jsx)("input",{type:"number",name:"people",id:"people",className:"form-control",onChange:n,value:"".concat(t.people),min:"1",max:"8",required:!0})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",style:{marginRight:"10px"},children:"Submit"}),Object(l.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg",onClick:function(){return r.go(-1)},children:"Cancel"})]})};var z=function(){var e=Object(i.g)(),t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(Object(W.a)({},{first_name:"",last_name:"",mobile_number:"",reservation_date:"",reservation_time:"",people:""})),o=Object(u.a)(c,2),b=o[0],d=o[1];return Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"d-md-flex flex-column mb-3",children:[Object(l.jsx)("h1",{children:"Create a New Reservation"}),Object(l.jsx)(Y,{error:r,setError:s})]}),Object(l.jsx)($,{reservation:b,handleSubmit:function(t){t.preventDefault();var a=new AbortController;return function(e,t){return S.apply(this,arguments)}(b,a.signal).then((function(t){return e.push("/dashboard?date=".concat(t.reservation_date.slice(0,10)))})).catch((function(e){return s(e)})),function(){return a.abort()}},handleChange:function(e){var t=e.target;d(Object(W.a)(Object(W.a)({},b),{},Object(I.a)({},t.name,t.value)))}})]})};var K=function(){var e=Object(i.g)(),t=Object(i.i)().reservation_id,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(""),b=Object(u.a)(o,2),d=b[0],h=b[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:a=e.sent,h(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"d-md-flex mb-3 flex-column",children:[Object(l.jsx)("h1",{children:"Edit Reservation"}),Object(l.jsx)(Y,{error:s,setError:c})]}),Object(l.jsx)($,{reservation:d,handleSubmit:function(t){t.preventDefault();var a=new AbortController;return function(e,t){return T.apply(this,arguments)}(d,a.signal).then((function(){return e.push("/dashboard?date=".concat(d.reservation_date.slice(0,10)))})).catch((function(e){return c(e)})),function(){return a.abort()}},handleChange:function(e){var t=e.target;h(Object(W.a)(Object(W.a)({},d),{},Object(I.a)({},t.name,t.value)))}})]})};var Q=function(){var e=Object(i.g)(),t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)({table_name:"",capacity:""}),o=Object(u.a)(c,2),b=o[0],d=o[1],j=function(e){var t=e.target;d(Object(W.a)(Object(W.a)({},b),{},Object(I.a)({},t.name,t.value)))};return Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"d-md-flex mb-3",children:[Object(l.jsx)("h1",{children:"Create a New Table"}),Object(l.jsx)(Y,{error:r,setError:s})]}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=new AbortController;return function(e,t){return F.apply(this,arguments)}(b,a.signal).then((function(){return e.push("/dashboard")})).catch((function(e){return s(e)})),function(){return a.abort()}},children:[Object(l.jsxs)("div",{className:"col mb-3",children:[Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsx)("label",{htmlFor:"table_name",className:"form-label",children:"Table Name"}),Object(l.jsx)("input",{type:"text",name:"table_name",id:"table_name",className:"form-control",onChange:j,value:b.table_name,minlength:"2",required:!0})]}),Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsx)("label",{htmlFor:"capacity",className:"form-label",children:"Capacity"}),Object(l.jsx)("input",{type:"number",name:"capacity",id:"capacity",className:"form-control",placeholder:"Choose a number between 1 and 8",onChange:j,value:b.capacity,min:"1",max:"8",required:!0})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",style:{marginRight:"10px"},children:"Submit"}),Object(l.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg",onClick:function(){return e.go(-1)},children:"Cancel"})]})]})};a(39);var V=function(){var e=Object(i.i)().reservation_id,t=Object(i.g)(),a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)([]),b=Object(u.a)(o,2),d=b[0],h=b[1],p=Object(n.useState)([]),O=Object(u.a)(p,2),v=O[0],x=O[1],f=Object(n.useState)({reservation_id:e}),N=Object(u.a)(f,2),g=N[0],y=N[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:a=t.sent,x(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"d-md-flex mb-3",children:Object(l.jsx)("h1",{children:"Seating"})}),Object(l.jsx)(Y,{error:s,setError:c}),Object(l.jsxs)("form",{onSubmit:function(a){a.preventDefault(),function(e,t,a,n){return M.apply(this,arguments)}(e,g.table_id,g).then((function(){return t.push("/dashboard")})).catch((function(e){return c(e)}))},children:[Object(l.jsxs)("label",{htmlFor:"table-select",children:["Assign a table for reservation #",e,", for ",v.people," people:"]}),Object(l.jsx)("div",{className:"selections",children:Object(l.jsxs)("select",{name:"table_id",id:"table-select",onChange:function(e){var t=e.target;y(Object(W.a)(Object(W.a)({},g),{},Object(I.a)({},t.name,t.value)))},children:[Object(l.jsx)("option",{value:"",children:"- Please choose a table -"}),d.map((function(e){return Object(l.jsxs)("option",{value:e.table_id,children:[e.table_name," - ",e.capacity]},e.table_name)}))]})}),Object(l.jsxs)("div",{className:"form-buttons",style:{marginTop:"10px"},children:[Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",style:{marginRight:"10px"},children:"Submit"}),Object(l.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg",onClick:function(){return t.go(-1)},children:"Cancel"})]})]})]})};a(40);var X=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(u.a)(s,2),i=c[0],o=c[1],b=Object(n.useState)([]),d=Object(u.a)(b,2),j=d[0],m=d[1],h=Object(n.useState)(""),p=Object(u.a)(h,2),O=p[0],v=p[1];return Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"d-md-flex mb-3 justify-content-start",children:[Object(l.jsx)("h1",{children:"Reservation Search"}),Object(l.jsx)(Y,{error:a,setError:r})]}),Object(l.jsxs)("div",{className:"input-group mb-3",id:"mobileSearchBox",children:[Object(l.jsx)("input",{type:"text",name:"mobile_number",className:"form-control",onChange:function(e){var t=e.target;o(t.value)},value:i,placeholder:"Enter a customer's phone number","aria-label":"Enter a customer's phone number","aria-describedby":"button-addon2"}),Object(l.jsx)("button",{className:"btn",type:"submit",id:"button-addon2",onClick:function(e){e.preventDefault();var t=new AbortController;return _({mobile_number:i},t.signal).then((function(e){return m(e)})).then(v("No reservations found")).catch((function(e){return r(e)})),function(){return t.abort()}},children:"Find"})]}),Object(l.jsx)("div",{className:"reservationsList",children:j.length?Object(l.jsx)(J,{reservations:j}):Object(l.jsx)("h3",{children:O})})]})};var Z=function(){return new URLSearchParams(Object(i.h)().search)};var ee=function(){var e=Z().get("date");return Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",children:Object(l.jsx)(i.a,{to:"/dashboard"})}),Object(l.jsx)(i.b,{exact:!0,path:"/reservations",children:Object(l.jsx)(i.a,{to:"/dashboard"})}),Object(l.jsx)(i.b,{path:"/dashboard",children:Object(l.jsx)(G,{date:e||O()})}),Object(l.jsx)(i.b,{path:"/reservations/new",children:Object(l.jsx)(z,{})}),Object(l.jsx)(i.b,{path:"/reservations/:reservation_id/edit",children:Object(l.jsx)(K,{})}),Object(l.jsx)(i.b,{path:"/reservations/:reservation_id/seat",children:Object(l.jsx)(V,{})}),Object(l.jsx)(i.b,{path:"/tables/new",children:Object(l.jsx)(Q,{})}),Object(l.jsx)(i.b,{path:"/search",children:Object(l.jsx)(X,{})}),Object(l.jsx)(i.b,{children:Object(l.jsx)(H,{})})]})};a(41);var te=function(){return Object(l.jsx)("div",{className:"container-fluid d-flex flex-column",children:Object(l.jsxs)("div",{className:"row h-100",children:[Object(l.jsx)("div",{className:"col-md-2 side-bar",children:Object(l.jsx)(b,{})}),Object(l.jsx)("div",{className:"col main body",children:Object(l.jsx)(ee,{})})]})})};var ae=function(){return Object(l.jsx)(i.d,{children:Object(l.jsx)(i.b,{path:"/",children:Object(l.jsx)(te,{})})})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(ae,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5e4ea5a1.chunk.js.map